# --- CONNEXION ORACLE DATABASE ---

# URL de connexion : jdbc:oracle:thin:@//HOTE:PORT/NOM_SERVICE
# Pour Oracle 23ai Free, le service est souvent "FREEPDB1"
spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/FREEPDB1

# L'utilisateur qu'on vient de créer
spring.datasource.username=cine_user
spring.datasource.password=cinema

# Le pilote
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# --- CONFIGURATION JPA / HIBERNATE ---

# "update" vérifie le schéma et crée les tables manquantes au démarrage
# Attention : en prod, on préfère "validate" ou "none"
spring.jpa.hibernate.ddl-auto=update

# Indique à Hibernate de parler le SQL spécifique à Oracle
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect

# Affiche les requêtes SQL dans la console (Utile pour le debug)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# --- HIKARI (pool de connexions) pour Oracle ---
# Des timeouts courts pour échouer vite si Oracle n'est pas joignable, utile en dev
spring.datasource.hikari.connection-timeout=15000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=5

# Oracle aime une requête de validation simple
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL